# 16 Net Lab  Core #

# Теоретическая часть
## Найти свободные подсети
Сеть office1

    Свободных подсетей нет

Сеть office2

    Свободных подсетей нет

Сеть central

    192.168.0.16/28 свободная подсеть в которой 14 хостов 2 заняты
    192.168.0.48/28 свободная подсеть в которой 14 хостов 2 заняты
    192.168.0.128/25 свободная подсеть в которой 126 хостов 2 заняты / можно разбить на более мелкие


## Посчитать сколько узлов в каждой подсети, включая свободные
Сеть office1 - 248 свободных 8 занятных 

    192.168.2.0/26   - 62 свободных 2 занятых
    192.168.2.64/26  - 62 свободных 2 занятых
    192.168.2.128/26 - 62 свободных 2 занятых
    192.168.2.192/26 - 62 свободных 2 занятых

Сеть office2 - 250 свободных 6 занятых

    192.168.1.0/25   - 126 свободных 2 занятых
    192.168.1.128/26 - 62  свободных 2 занятых
    192.168.1.192/26 - 62  свободных 2 занятых

Сеть central - 90 свободных 6 занятых, но есть свободные подсети. Со свободными 232 и 12 занятых, при разбивке свободных одной подсетью, если разбивать более мелкими подсетями то будет меньше свободных, так как 2 адреса тратится на каждую подсеть.

    192.168.0.0/28   - 14  свободных 2 занятых
    192.168.0.32/28  - 14  свободных 2 занятых
    192.168.0.64/26  - 62 свободных  2 занятых

## Указать broadcast адрес для каждой подсети
Сеть office1

    192.168.2.0/26   - 192.168.2.63
    192.168.2.64/26  - 192.168.2.127
    192.168.2.128/26 - 192.168.2.191
    192.168.2.192/26 - 192.168.2.255

Сеть office2

    192.168.1.0/25   - 192.168.1.127
    192.168.1.128/26 - 192.168.1.191
    192.168.1.192/26 - 192.168.1.255

Сеть central

    192.168.0.0/28   - 192.168.0.15
    192.168.0.32/28  - 192.168.0.47
    192.168.0.64/26  - 192.168.0.127

## Проверить нет ли ошибок при разбиении
Ошибок при разбиении нет, то есть нет наложения между сетями

# Практическая часть задания

В vagrantfile добавил маршруты, так как при перезапуске они удаляются, что бы не удалялись нужно вносить в фалы скриптов
Пинги ходят между всеми узлами сети и с любого можно выйти в интернет.


# Для Себя
    sysctl net.ipv4.conf.all.forwarding=1  - разрешает обмениватся пакетами меду интерфейсами
    yum install net-tools 
    lspci - просмотр портов pci
    ss - вместо netstat
    tc - управление трафиком
    nstat - сетевые счетчики
    nmcli - net work manager
    nmtui - графический редактор сети. нужно установить network-manager
    /etc/sysconfig/network-scripts/ - директория со скриптами

Сниферить сети

    tcpdump -i eth2 port 80 
    ngrep - читает что в пакете передается через сеть

Quagga 
    
    OSPF работает на третем уровне
    yum instal Quagga
    cat /etc/quagga/daemons 
    vtysh - утилита настройки quagga
    router ospf 
    network ospf 10.0.0.0/24 ar 0
    show ip ospf neighbor - получаем соседа и посмотреть в каком он статусе бдр или др
    show ip ospf database 
    show ip interface brief - адреса на интерфейсах смотрятm
